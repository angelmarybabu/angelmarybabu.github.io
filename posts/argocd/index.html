<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="layout-lang" content="en"><meta name="day-prompt" content="d ago"><meta name="hour-prompt" content="hr ago"><meta name="minute-prompt" content="min ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="ArgoCD setup in EKS Cluster" /><meta name="author" content="Angel Mary Babu" /><meta property="og:locale" content="en" /><meta name="description" content="ArgoCD setup in EKS Cluster" /><meta property="og:description" content="ArgoCD setup in EKS Cluster" /><link rel="canonical" href="https://angelmarybabu.github.io/posts/argocd/" /><meta property="og:url" content="https://angelmarybabu.github.io/posts/argocd/" /><meta property="og:site_name" content="Angel Mary Babu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-15T08:30:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ArgoCD setup in EKS Cluster" /><meta name="twitter:site" content="@AngelMaryBabu1" /><meta name="twitter:creator" content="@Angel Mary Babu" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Angel Mary Babu"},"dateModified":"2022-01-06T16:37:39+05:30","datePublished":"2021-12-15T08:30:00+05:30","description":"ArgoCD setup in EKS Cluster","headline":"ArgoCD setup in EKS Cluster","mainEntityOfPage":{"@type":"WebPage","@id":"https://angelmarybabu.github.io/posts/argocd/"},"url":"https://angelmarybabu.github.io/posts/argocd/"}</script><title>ArgoCD setup in EKS Cluster | Angel Mary Babu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Angel Mary Babu"><meta name="application-name" content="Angel Mary Babu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/img/favicons/angel.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Angel Mary Babu</a></div><div class="site-subtitle font-italic">Cloud, DevOps, Site Reliability Engineer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/angelmarybabu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/AngelMaryBabu1" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['angelmarybabu2','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>ArgoCD setup in EKS Cluster</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>ArgoCD setup in EKS Cluster</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Angel Mary Babu </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 15, 2021, 8:30 AM +0530" >Dec 15, 2021<i class="unloaded">2021-12-15T08:30:00+05:30</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Jan 6, 2022, 4:37 PM +0530" >Jan 6, 2022<i class="unloaded">2022-01-06T16:37:39+05:30</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1098 words">6 min read</span></div></div><div class="post-content"><p><code class="language-plaintext highlighter-rouge">ArgoCD</code> is a gitops tool to perform the deployments in kubernetes environment and it consists of three main components.</p><ul><li>API Server<li>Repository Server<li>Application Controller</ul><h5 id="prerequisite">Prerequisite</h5><ul><li>You should have a EKS cluster configured<li>Kubectl command line tool should be available<li>AWS cli should be available</ul><h6 id="to-install-argocd">To install ArgoCD</h6><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/v2.2.1/manifests/install.yaml
</pre></table></code></div></div><p>Latest release version can available in the <a href="https://github.com/argoproj/argo-cd/releases">offcial documentation</a>.</p><h6 id="in-order-to-communicate-with-api-server-we-have-to-configure-argocd-cli">In-order to communicate with API server, we have to configure ArgoCD CLI.</h6><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>sudo curl --silent --location -o /usr/local/bin/argocd https://github.com/argoproj/argo-cd/releases/download/v2.2.1/argocd-linux-amd64

sudo chmod +x /usr/local/bin/argocd
</pre></table></code></div></div><h6 id="expose-argocd-server">Expose argocd-server</h6><p>By default argocd-server is not publicaly exposed. So we have to create a service and an ingress to expose the endpoint. Hence we have to deploy an AWS ALB ingress controller. Ref <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html">Link</a></p><p>Steps to follow</p><ol><li>Download an IAM policy for the AWS Load Balancer Controller. You can view the policy document on GitHub.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl -o iam_policy.json https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/v2.3.1/docs/install/iam_policy.json
</pre></table></code></div></div><li>Create an IAM policy using the policy downloaded in the previous step.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>aws iam create-policy \
 --policy-name AWSLoadBalancerControllerIAMPolicy \
 --policy-document file://iam_policy.json
</pre></table></code></div></div><li>Create an IAM role and annotate the Kubernetes service account that’s named aws-load-balancer-controller in the kube-system namespace for the AWS Load Balancer Controller.</ol><p>Using the AWS Management Console and kubectl</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre>3a. Open the IAM console at https://console.aws.amazon.com/iam/.
3b. In the navigation panel, choose Roles, Create Role.
3c. In the Select type of trusted entity section, choose Web identity.
3d. In the Choose a web identity provider section:
    For Identity provider, choose the URL for your cluster. 
    For Audience, choose sts.amazonaws.com.
    Choose Next: Permissions.
3e. In the Attach Policy section, select the AWSLoadBalancerControllerIAMPolicy policy that you created in a previous step to use for your service account.
3f. Choose Next: Tags.
3g. Choose Next: Review.
3h. For Role Name, enter a name for your role, such as AmazonEKSLoadBalancerControllerRole, and then choose Create Role.
3i. After the role is created, choose the role in the console to open it for editing.
3j. Choose the Trust relationships tab, and then choose Edit trust relationship.
3k. Find the line that looks similar to the following line:
`"oidc.eks.us-west-2.amazonaws.com/id/EXAMPLED539D4633E53DE1B716D3041E:aud": "sts.amazonaws.com"`
Change the line to look like the following line. Replace EXAMPLED539D4633E53DE1B716D3041E with your cluster's OIDC provider ID and if necessary, replace region-code with the Region code that your cluster is in. Change aud to sub and replace sts.amazonaws.com with the value in the following text.

`"oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B716D3041E:sub":"system:serviceaccount:kube-system:aws-load-balancer-controller"`

3l. Choose Update Trust Policy to finish.
3m. Note the ARN of the role for use in a later step.
3n. Save the following contents to a file that's named aws-load-balancer-controller-service-account.yaml, replacing 111122223333 with your account ID.
=============================================
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/component: controller
    app.kubernetes.io/name: aws-load-balancer-controller
  name: aws-load-balancer-controller
  namespace: kube-system
  annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::111122223333:role/AmazonEKSLoadBalancerControllerRole
Create the service account on your cluster.
=============================================
3o. kubectl apply -f aws-load-balancer-controller-service-account.yaml
</pre></table></code></div></div><ol><li>Add the following IAM policy to the IAM role created in a previous step. The policy allows the AWS Load Balancer Controller access to the resources that were created by the ALB Ingress Controller for Kubernetes.</ol><p>Download the IAM policy. You can also view the policy.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl -o iam_policy_v1_to_v2_additional.json https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/v2.3.1/docs/install/iam_policy_v1_to_v2_additional.json
</pre></table></code></div></div><p>Create the IAM policy and note the ARN that is returned.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>aws iam create-policy \
  --policy-name AWSLoadBalancerControllerAdditionalIAMPolicy \
  --policy-document file://iam_policy_v1_to_v2_additional.json
</pre></table></code></div></div><p>Attach the IAM policy to the IAM role that you created in a previous step.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>aws iam attach-role-policy \
  --role-name your-role name \
  --policy-arn arn:aws:iam::111122223333:policy/AWSLoadBalancerControllerAdditionalIAMPolicy
</pre></table></code></div></div><h6 id="install-the-aws-load-balancer-controller-using-helm-v3">Install the AWS Load Balancer Controller using Helm V3.</h6><p>Helm V3 or later</p><p>Add the eks-charts repository.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>helm repo add eks https://aws.github.io/eks-charts
</pre></table></code></div></div><p>Update your local repo to make sure that you have the most recent charts.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>helm repo update
</pre></table></code></div></div><p>Install the AWS Load Balancer Controller.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>--set region=region-code

--set vpcId=vpc-xxxxxxxx
</pre></table></code></div></div><p>If you’re deploying to any Region other than us-west-2, then add the following flag to the following command</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>--set image.repository=account.dkr.ecr.region-code.amazonaws.com/amazon/aws-load-balancer-controller
</pre></table></code></div></div><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>helm install aws-load-balancer-controller eks/aws-load-balancer-controller \
  -n kube-system \
  --set clusterName=cluster-name \
  --set region=region-code \
  --set vpcId=vpc-xxxxxxxx \
  --set serviceAccount.create=false \
  --set serviceAccount.name=aws-load-balancer-controller 
</pre></table></code></div></div><p>Verify that the controller is installed.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl get deployment -n kube-system aws-load-balancer-controller
</pre></table></code></div></div><p>Output</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>NAME                           READY   UP-TO-DATE   AVAILABLE   AGE
aws-load-balancer-controller   2/2     2            2           84s
</pre></table></code></div></div><p>Now we have to point a domain and In order to create service and ingress, we can follow the Sample mainfest files</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre>---
apiVersion: v1
kind: Service
metadata:
  name: argogrpc
  namespace: argocd
  annotations:
    alb.ingress.kubernetes.io/backend-protocol-version: HTTP2
  labels:
    app: argogrpc
spec:
  ports:
  - name: "443"
    port: 443
    protocol: TCP
    targetPort: 8080
  selector:
    app.kubernetes.io/name: argocd-server
  sessionAffinity: None
  type: ClusterIP

---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: argocd
  namespace: argocd
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/backend-protocol: HTTPS
    alb.ingress.kubernetes.io/certificate-arn: &lt;ACM ARN&gt;
    alb.ingress.kubernetes.io/inbound-cidrs: x.xx.xx.xx/32, xx.xx.xx.xx/32
    alb.ingress.kubernetes.io/ssl-policy: ELBSecurityPolicy-FS-1-2-2019-08
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/subnets: &lt;public subnets&gt;
    alb.ingress.kubernetes.io/target-type: ip
    # Use this annotation (which must match a service name) to route traffic to HTTP2 backends.
    alb.ingress.kubernetes.io/conditions.argogrpc: |
      [{"field":"http-header","httpHeaderConfig":{"httpHeaderName": "Content-Type", "values":["application/grpc"]}}]
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS":443}]'
spec:
  rules:
  - host: "argocd.demo-angel.com"
    http:
      paths:
      - backend:
          serviceName: argogrpc
          servicePort: 443
        pathType: ImplementationSpecific
      - backend:
          serviceName: argocd-server
          servicePort: 443
        pathType: ImplementationSpecific
</pre></table></code></div></div><h5 id="get-admin-credentials">Get Admin credentials</h5><p>The initial password is autogenerated with the pod name of the ArgoCD API server. You can get it by running following command</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
</pre></table></code></div></div><p>You can use the credentials retrived in above step and login as admin in the dashboard.</p><p>or from CLI</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kubectl config use-context arn:aws:eks:us-east-1:XXXXXXXX:cluster/eks-argocd
argocd login --port-forward  --port-forward-namespace argocd
</pre></table></code></div></div><p>Note: By default, the cluster in which ArgoCD is deployed is added as a local cluster.</p><h6 id="to-add-repositories">To add repositories.</h6><ul><li>Create a dedicated SSH Key Pair for ArgoCD &lt; &gt; Github Authentication<li>Add the SSH Public Key under the Github deployment bot account.<li>Go to ArgoCD Console &gt; Settings &gt; Repositories &gt; Connect Repo using SSH &gt; Provide your repository link and SSH Private Key to connect.<li>Once added it whill be listed in Repositories tab and verify the Connection Status.</ul><p>Note: We can include cluster autoscaler and metrics server in the EKS environment for node scaling and for metrics collection.</p><p>Reference for <a href="https://docs.aws.amazon.com/eks/latest/userguide/autoscaling.html">Cluster AutoScaler</a> Reference for <a href="https://docs.aws.amazon.com/eks/latest/userguide/metrics-server.html">Metrics Server</a></p><p>That’s it</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aws/'>AWS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >AWS</a> <a href="/tags/devops/" class="post-tag no-text-decoration" >devops</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=ArgoCD setup in EKS Cluster - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/argocd/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=ArgoCD setup in EKS Cluster - Angel Mary Babu&u=https://angelmarybabu.github.io/posts/argocd/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=ArgoCD setup in EKS Cluster - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/argocd/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/How-to-create-Persistent-Volume-in-EKS/">How to create Persistent Volume in EKS?</a><li><a href="/posts/eks-cluster-rancher/">How to add an EKS cluster in Rancher?</a><li><a href="/posts/argocd/">ArgoCD setup in EKS Cluster</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Prometheus-Grafana/"><div class="card-body"> <span class="timeago small" >May 20, 2020<i class="unloaded">2020-05-20T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to install and configure Prometheus as well as Grafana for an EC2 instance?</h3><div class="text-muted small"><p> Prometheus is one of the widely accepted open source monitoring tools and it takes metrics from the client machine using the node exporter. It displays them using Grafana which gives more visibilit...</p></div></div></a></div><div class="card"> <a href="/posts/Self-Runner-in-EKS/"><div class="card-body"> <span class="timeago small" >Oct 11, 2020<i class="unloaded">2020-10-11T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Github Actions Self Runner in EKS</h3><div class="text-muted small"><p> Let’s create an EKS cluster, Create EKS using AWS CLI aws eks create-cluster \ --region us-east-1 \ --name cluster-new \ --kubernetes-version 1.21 \ --role-arn arn:aws:iam::ACCOUNT_ID...</p></div></div></a></div><div class="card"> <a href="/posts/velero-backup/"><div class="card-body"> <span class="timeago small" >Dec 6, 2021<i class="unloaded">2021-12-06T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Velero Backup for EKS</h3><div class="text-muted small"><p> Prerequisites AWS CLI needs to be configured in the machine where you execute Velero commands. Kubectl needs to be configured with the EKS cluster where you need to take the backup. Now we h...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/velero-backup/" class="btn btn-outline-primary" prompt="Older"><p>Velero Backup for EKS</p></a> <a href="/posts/tableau-ha/" class="btn btn-outline-primary" prompt="Newer"><p>Tableau Three-Node HA Cluster in AWS</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/AngelMaryBabu1">Angel Mary Babu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://angelmarybabu.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
