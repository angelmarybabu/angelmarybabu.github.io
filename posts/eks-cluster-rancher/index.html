<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="layout-lang" content="en"><meta name="day-prompt" content="d ago"><meta name="hour-prompt" content="hr ago"><meta name="minute-prompt" content="min ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="How to add an EKS cluster in Rancher?" /><meta name="author" content="Angel Mary Babu" /><meta property="og:locale" content="en" /><meta name="description" content="How to add an EKS cluster in Rancher?" /><meta property="og:description" content="How to add an EKS cluster in Rancher?" /><link rel="canonical" href="https://angelmarybabu.github.io/posts/eks-cluster-rancher/" /><meta property="og:url" content="https://angelmarybabu.github.io/posts/eks-cluster-rancher/" /><meta property="og:site_name" content="Angel Mary Babu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-12T08:30:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="How to add an EKS cluster in Rancher?" /><meta name="twitter:site" content="@AngelMaryBabu1" /><meta name="twitter:creator" content="@Angel Mary Babu" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Angel Mary Babu"},"dateModified":"2022-02-11T19:21:34+05:30","datePublished":"2022-01-12T08:30:00+05:30","description":"How to add an EKS cluster in Rancher?","headline":"How to add an EKS cluster in Rancher?","mainEntityOfPage":{"@type":"WebPage","@id":"https://angelmarybabu.github.io/posts/eks-cluster-rancher/"},"url":"https://angelmarybabu.github.io/posts/eks-cluster-rancher/"}</script><title>How to add an EKS cluster in Rancher? | Angel Mary Babu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Angel Mary Babu"><meta name="application-name" content="Angel Mary Babu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/img/favicons/angel.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Angel Mary Babu</a></div><div class="site-subtitle font-italic">Cloud, DevOps, Site Reliability Engineer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/angelmarybabu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/AngelMaryBabu1" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['angelmarybabu2','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>How to add an EKS cluster in Rancher?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>How to add an EKS cluster in Rancher?</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Angel Mary Babu </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jan 12, 2022, 8:30 AM +0530" >Jan 12, 2022<i class="unloaded">2022-01-12T08:30:00+05:30</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Feb 11, 2022, 7:21 PM +0530" >Feb 11, 2022<i class="unloaded">2022-02-11T19:21:34+05:30</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="199 words">1 min read</span></div></div><div class="post-content"><p>Rancher is an open source software platform where we can manage the containerized environments. It helps to create and manage kubernetes clusters via Rancher. Also, we can import already existing cluster to Rancher to manage and configure.</p><h5 id="pre-requistes">Pre-requistes.</h5><ul><li>We should have an EKS cluster provisioned.<li>Kubectl command line tool should be available</ul><h5 id="steps-involved">Steps Involved:</h5><ol><li>Login to Rancher Dashboard.<li>Click on cluster.<li>Choose the option <code class="language-plaintext highlighter-rouge">Add Cluster</code> <br /> <img data-proofer-ignore data-src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/media/image-1.png" alt="image-1" /> <br /><li>Click on the option <code class="language-plaintext highlighter-rouge">Other Cluster</code> <br /> <img data-proofer-ignore data-src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/media/image-2.png" alt="image-2" /> <br /><li>Provide a meaningful cluster name.<li>Click on <code class="language-plaintext highlighter-rouge">Create</code> <br /> <img data-proofer-ignore data-src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/media/image-3.png" alt="image-1" /> <br /><li><p>Apply the given command on the EKS cluster via CLI.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply -f https://rancher.sample.com/v3/import/g42lk6_c-gfd2j.yaml
</pre></table></code></div></div><li>Click on <code class="language-plaintext highlighter-rouge">Done</code></ol><p><br /> <img data-proofer-ignore data-src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/media/image-4.png" alt="image-1" /> <br /></p><p>Note: Once we have applied the command, a new namespace will be created on the cluster.</p><p>Sample output:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>$ kubectl apply -f https://rancher.domain.com/v3/import/6xhtqc6_c-ggtmz.yaml
clusterrole.rbac.authorization.k8s.io/proxy-clusterrole-kubeapiserver created
clusterrolebinding.rbac.authorization.k8s.io/proxy-role-binding-kubernetes-master created
namespace/cattle-system created
serviceaccount/cattle created
clusterrolebinding.rbac.authorization.k8s.io/cattle-admin-binding created
secret/cattle-credentials-71f3460 created
clusterrole.rbac.authorization.k8s.io/cattle-admin created
deployment.apps/cattle-cluster-agent created
</pre></table></code></div></div><p>We have to allow the NAT gateway IP address for 443 port in the security group of the rancher server. Otherwise we end up in the following error</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>$ kubectl -n cattle-system logs cattle-cluster-agent-5d6b7cd-dwd7d
ERROR: https://rancher.domain.com/ping is not accessible (Failed to connect to rancher.domain.com port 443: Connection timed out)
</pre></table></code></div></div><p>That’s it.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aws/'>AWS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/amazon/" class="post-tag no-text-decoration" >amazon</a> <a href="/tags/rancher/" class="post-tag no-text-decoration" >rancher</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=How to add an EKS cluster in Rancher? - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/eks-cluster-rancher/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=How to add an EKS cluster in Rancher? - Angel Mary Babu&u=https://angelmarybabu.github.io/posts/eks-cluster-rancher/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=How to add an EKS cluster in Rancher? - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/eks-cluster-rancher/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/How-to-create-Persistent-Volume-in-EKS/">How to create Persistent Volume in EKS?</a><li><a href="/posts/eks-cluster-rancher/">How to add an EKS cluster in Rancher?</a><li><a href="/posts/argocd/">ArgoCD setup in EKS Cluster</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Prometheus-Grafana/"><div class="card-body"> <span class="timeago small" >May 20, 2020<i class="unloaded">2020-05-20T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to install and configure Prometheus as well as Grafana for an EC2 instance?</h3><div class="text-muted small"><p> Prometheus is one of the widely accepted open source monitoring tools and it takes metrics from the client machine using the node exporter. It displays them using Grafana which gives more visibilit...</p></div></div></a></div><div class="card"> <a href="/posts/Self-Runner-in-EKS/"><div class="card-body"> <span class="timeago small" >Oct 11, 2020<i class="unloaded">2020-10-11T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Github Actions Self Runner in EKS</h3><div class="text-muted small"><p> Let’s create an EKS cluster, Create EKS using AWS CLI aws eks create-cluster \ --region us-east-1 \ --name cluster-new \ --kubernetes-version 1.21 \ --role-arn arn:aws:iam::ACCOUNT_ID...</p></div></div></a></div><div class="card"> <a href="/posts/velero-backup/"><div class="card-body"> <span class="timeago small" >Dec 6, 2021<i class="unloaded">2021-12-06T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Velero Backup for EKS</h3><div class="text-muted small"><p> Prerequisites AWS CLI needs to be configured in the machine where you execute Velero commands. Kubectl needs to be configured with the EKS cluster where you need to take the backup. Now we h...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/tableau-ha/" class="btn btn-outline-primary" prompt="Older"><p>Tableau Three-Node HA Cluster in AWS</p></a> <a href="/posts/How-to-create-Persistent-Volume-in-EKS/" class="btn btn-outline-primary" prompt="Newer"><p>How to create Persistent Volume in EKS?</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/AngelMaryBabu1">Angel Mary Babu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://angelmarybabu.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
