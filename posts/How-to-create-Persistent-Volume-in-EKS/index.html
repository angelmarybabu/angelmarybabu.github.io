<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="layout-lang" content="en"><meta name="day-prompt" content="d ago"><meta name="hour-prompt" content="hr ago"><meta name="minute-prompt" content="min ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="How to create Persistent Volume in EKS?" /><meta name="author" content="Angel Mary Babu" /><meta property="og:locale" content="en" /><meta name="description" content="How to create Persistent Volume in EKS?" /><meta property="og:description" content="How to create Persistent Volume in EKS?" /><link rel="canonical" href="https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/" /><meta property="og:url" content="https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/" /><meta property="og:site_name" content="Angel Mary Babu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-09T08:30:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="How to create Persistent Volume in EKS?" /><meta name="twitter:site" content="@AngelMaryBabu1" /><meta name="twitter:creator" content="@Angel Mary Babu" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Angel Mary Babu"},"dateModified":"2022-03-09T21:59:13+05:30","datePublished":"2022-03-09T08:30:00+05:30","description":"How to create Persistent Volume in EKS?","headline":"How to create Persistent Volume in EKS?","mainEntityOfPage":{"@type":"WebPage","@id":"https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/"},"url":"https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/"}</script><title>How to create Persistent Volume in EKS? | Angel Mary Babu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Angel Mary Babu"><meta name="application-name" content="Angel Mary Babu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/angelmarybabu/angelmarybabu.github.io/master/assets/img/favicons/angel.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Angel Mary Babu</a></div><div class="site-subtitle font-italic">Cloud, DevOps, Site Reliability Engineer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/angelmarybabu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/AngelMaryBabu1" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['angelmarybabu2','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>How to create Persistent Volume in EKS?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>How to create Persistent Volume in EKS?</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Angel Mary Babu </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 9, 2022, 8:30 AM +0530" >Mar 9, 2022<i class="unloaded">2022-03-09T08:30:00+05:30</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 9, 2022, 9:59 PM +0530" >Mar 9, 2022<i class="unloaded">2022-03-09T21:59:13+05:30</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="803 words">4 min read</span></div></div><div class="post-content"><h4 id="prerequisite">Prerequisite</h4><ul><li>You should have a EKS cluster configured<li>Kubectl command line tool should be available<li>AWS cli should be available</ul><p>In order to create a Persistent Volume in EKS, we have to check whether the cluster has the corresponding storage version, example:gp2. In the latest EKS versions, it will be automatically installed or else we can deploy it using the following steps;</p><ol><li>Check whether we already have the storage class available.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> kubectl get sc
</pre></table></code></div></div><li>If not available, create with the following manifest file for storage class.</ol><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>vim gp2-storage-class.yaml

kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: gp2
  annotations:
    storageclass.kubernetes.io/is-default-class: "true"
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2
  fsType: ext4 
volumeBindingMode: WaitForFirstConsumer
allowedTopologies:
- matchLabelExpressions:
  - key: failure-domain.beta.kubernetes.io/zone
    values:
    - us-east-1c
    - us-east-1d
</pre></table></code></div></div><p>Here we have included a topology for the zones.</p><p><a href="https://docs.aws.amazon.com/eks/latest/userguide/storage-classes.html">Reference</a></p><ol><li>Now we could create volume, PV, PVC and a sample deployment. Since we have provided the Binding Mode as <code class="language-plaintext highlighter-rouge">WaitForFirstConsumer</code>, we have to create the corresponding resources to get this pv and pvc bounded.</ol><p>Create a volume:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>aws ec2 create-volume --availability-zone=us-east-1c --size=10 --volume-type=gp2 --region=us-east-1 --encrypted
</pre></table></code></div></div><p>Sample PV manifest file:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>vim pv-sample.yaml
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: crypto-teleport-pv
spec:
  accessModes:
  - ReadWriteOnce
  awsElasticBlockStore:
    fsType: ext4
    volumeID: aws://us-east-1c/vol-0c4680ebxxxx
  capacity:
    storage: 10Gi
  persistentVolumeReclaimPolicy: Delete
  storageClassName: gp2
  volumeMode: Filesystem
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">kubectl apply -f pv-sample.yaml</code></p><p>Sample PVC manifest file:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>vim pvc-sample.yaml

kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  namespace: test-angel 
  name: nginx-with-pvc
  labels:
    name: nginx-with-pvc

spec:
  storageClassName: gp2
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 6Gi
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">kubectl apply -f pvc-sample.yaml</code></p><p>Sample deployment manifest file,</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre>vim deployment.yaml

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-with-pvc
  namespace: test-angel
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
       app: nginx
    spec:
      containers:
      - image: nginx
        name: nginx-with-pvc
        volumeMounts:
        - mountPath: /test-ebs
          name: my-pvc
      volumes:
      - name: my-pvc
        persistentVolumeClaim:
          claimName: nginx-with-pvc
</pre></table></code></div></div><p><a href="https://github.com/angelmarybabu/persistent-volume">Reference</a></p><p>Now we could see that the PVC has been bounded to the PV.</p><p>In some cases, if we need a different storage class, then we have to consider ebs-sc driver. Please find the steps for the following,</p><p><code class="language-plaintext highlighter-rouge">Note: Eks version must be atleast 1.18</code></p><ol><li>Create an IAM policy from the AWS console.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl -o example-iam-policy.json https://raw.githubusercontent.com/kubernetes-sigs/aws-ebs-csi-driver/master/docs/example-iam-policy.json
</pre></table></code></div></div></ol><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>aws iam create-policy \
    --policy-name AmazonEKS_EBS_CSI_Driver_Policy \
    --policy-document file://example-iam-policy.json
</pre></table></code></div></div><ol><li>Attach this policy to an IAM user<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>IAM &gt;&gt; Roles &gt;&gt; Create role &gt;&gt; Select trusted entity &gt;&gt; Web identity (choose the URL for your cluster) &gt;&gt; Audience, ( choose sts.amazonaws.com) &gt;&gt; Add permissions &gt;&gt; choose the AmazonEKS_EBS_CSI_Driver_Policy &gt;&gt; Role name (AmazonEKSEBSCSIRole) &gt;&gt; Create role.
</pre></table></code></div></div><p>Now we have to make the following changes for the role.</p></ol><p>Select the role AmazonEKSEBSCSIRole » Choose the Trust relationships tab » choose Edit trust policy.</p><p>Then change the line from, <code class="language-plaintext highlighter-rouge">"oidc.eks.us-west-2.amazonaws.com/id/EXAMPLED539D4633E53DE1B716D3041E:aud": "sts.amazonaws.com"</code> to <code class="language-plaintext highlighter-rouge">"oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B716D3041E:sub": "system:serviceaccount:kube-system:ebs-csi-controller-sa"</code></p><p>Replace EXAMPLED539D4633E53DE1B716D3041E with your cluster’s OIDC provider ID, region-code with the AWS Region code that your cluster is in, and aud (in the previous output) to sub.</p><ol><li>Install the Amazon EBS CSI driver by using Helm. Add the corresponding helm repository,<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>helm repo add aws-ebs-csi-driver https://kubernetes-sigs.github.io/aws-ebs-csi-driver
helm repo update
</pre></table></code></div></div><li>Install the driver.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>helm upgrade -install aws-ebs-csi-driver aws-ebs-csi-driver/aws-ebs-csi-driver \
 --namespace kube-system \
 --set image.repository=123456789012.dkr.ecr.region-code.amazonaws.com/eks/aws-ebs-csi-driver \
 --set controller.serviceAccount.create=true \
 --set controller.serviceAccount.name=ebs-csi-controller-sa \
 --set controller.serviceAccount.annotations."eks\.amazonaws\.com/role-arn"="arn:aws:iam::111122223333:role/AmazonEKS_EBS_CSI_DriverRole"
</pre></table></code></div></div><li>Now we could create the storage class in the cluster.<div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>vim storageclass-ebs-csi.yaml
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: ebs-sc
provisioner: ebs.csi.aws.com
parameters:
  type: gp2
  encrypted: 'true'
volumeBindingMode: WaitForFirstConsumer
reclaimPolicy: Delete
</pre></table></code></div></div><p><a href="https://docs.aws.amazon.com/eks/latest/userguide/managing-ebs-csi-self-managed-add-on.html">Reference</a></p></ol><p>Now we can dynamically provision the volume with type gp2. Also, we can change the type gp3 as per our need and it is highly recommened to use gp3 which is more efficiant than gp2.</p><p>Example:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>vim pvc-sample.yaml
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  namespace: test-angel 
  name: nginx-with-pvc
  labels:
    name: nginx-with-pvc

spec:
  storageClassName: ebs-sc
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 6Gi
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">kubectl apply -f pvc-sample.yaml</code></p><p>Now create a deployment, sample;</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre>vim deployment.yaml
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-with-pvc
  namespace: test-angel
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
       app: nginx
    spec:
      containers:
      - image: nginx
        name: nginx-with-pvc
        volumeMounts:
        - mountPath: /test-ebs
          name: my-pvc
      volumes:
      - name: my-pvc
        persistentVolumeClaim:
          claimName: nginx-with-pvc
</pre></table></code></div></div><p><a href="https://github.com/angelmarybabu/dynamic-provisioning-pv">Reference</a></p><p>That’s it.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aws/'>AWS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >AWS</a> <a href="/tags/devops/" class="post-tag no-text-decoration" >devops</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=How to create Persistent Volume in EKS? - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=How to create Persistent Volume in EKS? - Angel Mary Babu&u=https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=How to create Persistent Volume in EKS? - Angel Mary Babu&url=https://angelmarybabu.github.io/posts/How-to-create-Persistent-Volume-in-EKS/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/pods-stuck/">Pods stuck in ContainerCreating status - failed to assign an IP address to the container</a><li><a href="/posts/How-to-create-Persistent-Volume-in-EKS/">How to create Persistent Volume in EKS?</a><li><a href="/posts/eks-cluster-rancher/">How to add an EKS cluster in Rancher?</a><li><a href="/posts/argocd/">ArgoCD setup in EKS Cluster</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Prometheus-Grafana/"><div class="card-body"> <span class="timeago small" >May 20, 2020<i class="unloaded">2020-05-20T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to install and configure Prometheus as well as Grafana for an EC2 instance?</h3><div class="text-muted small"><p> Prometheus is one of the widely accepted open source monitoring tools and it takes metrics from the client machine using the node exporter. It displays them using Grafana which gives more visibilit...</p></div></div></a></div><div class="card"> <a href="/posts/Self-Runner-in-EKS/"><div class="card-body"> <span class="timeago small" >Oct 11, 2020<i class="unloaded">2020-10-11T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Github Actions Self Runner in EKS</h3><div class="text-muted small"><p> Let’s create an EKS cluster, Create EKS using AWS CLI aws eks create-cluster \ --region us-east-1 \ --name cluster-new \ --kubernetes-version 1.21 \ --role-arn arn:aws:iam::ACCOUNT_ID...</p></div></div></a></div><div class="card"> <a href="/posts/velero-backup/"><div class="card-body"> <span class="timeago small" >Dec 6, 2021<i class="unloaded">2021-12-06T08:30:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Velero Backup for EKS</h3><div class="text-muted small"><p> Prerequisites AWS CLI needs to be configured in the machine where you execute Velero commands. Kubectl needs to be configured with the EKS cluster where you need to take the backup. Now we h...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/eks-cluster-rancher/" class="btn btn-outline-primary" prompt="Older"><p>How to add an EKS cluster in Rancher?</p></a> <a href="/posts/pods-stuck/" class="btn btn-outline-primary" prompt="Newer"><p>Pods stuck in ContainerCreating status - failed to assign an IP address to the container</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/AngelMaryBabu1">Angel Mary Babu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/amazon/">amazon</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/sysops/">sysops</a> <a class="post-tag" href="/tags/typography/">typography</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://angelmarybabu.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
